(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7368:function(e,t,r){Promise.resolve().then(r.bind(r,6384))},6384:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var s=r(7437),a=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,children:x,...m}=r;return(0,a.createElement)("svg",{ref:s,...n,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:"lucide lucide-".concat(l(e)),...m},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...(Array.isArray(x)?x:[x])||[]])});return r.displayName="".concat(e),r},c=i("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),o=i("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),d=i("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var x=r(4115);r(4086);let m={data:"#3b82f6",streaming:"#a855f7","video/encoding":"#ec4899",infrastructure:"#10b981",platform:"#eab308","frontend/ui":"#06b6d4","api/backend":"#f97316",observability:"#6366f1","ml/data-science":"#ef4444",security:"#059669",uncategorized:"#6b7280"};function u(e){let{entries:t,onPostClick:r}=e,n=(0,a.useRef)(null),l=(0,a.useRef)(null);return((0,a.useEffect)(()=>{if(!n.current||0===t.length)return;let e=t.filter(e=>null!==e.date).map((e,t)=>{let r=e.layers[0]||"uncategorized";return{id:t,content:e.title.substring(0,60)+(e.title.length>60?"...":""),start:e.date,group:r,title:"".concat(e.title,"\n\nLayers: ").concat(e.layers.join(", "),"\n\n").concat(e.snippet.substring(0,150),"..."),className:"timeline-item",style:"background-color: ".concat(m[r]||m.uncategorized,"; border-color: ").concat(m[r]||m.uncategorized,";"),entry:e}}),s=Array.from(new Set(t.flatMap(e=>e.layers))).map(e=>({id:e,content:e,style:"color: ".concat(m[e]||m.uncategorized,";")})),a=new x.TY(n.current,e,s,{width:"100%",height:"600px",margin:{item:10,axis:5},orientation:"top",groupOrder:"content",zoomMin:2592e6,zoomMax:63072e7,stack:!0,showCurrentTime:!1,tooltip:{followMouse:!0}});return a.on("select",t=>{if(t.items.length>0){let s=e.find(e=>e.id===t.items[0]);s&&s.entry&&r(s.entry)}}),l.current=a,()=>{l.current&&l.current.destroy()}},[t,r]),0===t.length)?(0,s.jsxs)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-xl p-12 text-center",children:[(0,s.jsx)("p",{className:"text-gray-400",children:"No posts found matching your criteria."}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters or search query."})]}):(0,s.jsxs)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-xl p-6 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Timeline Visualization"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Showing ",t.filter(e=>e.date).length," posts over time. Click on items for details."]})]}),(0,s.jsx)("div",{ref:n,className:"rounded-lg overflow-hidden"})]})}let h=i("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),g={data:"from-blue-500 to-blue-700",streaming:"from-purple-500 to-purple-700","video/encoding":"from-pink-500 to-pink-700",infrastructure:"from-green-500 to-green-700",platform:"from-yellow-500 to-yellow-700","frontend/ui":"from-cyan-500 to-cyan-700","api/backend":"from-orange-500 to-orange-700",observability:"from-indigo-500 to-indigo-700","ml/data-science":"from-red-500 to-red-700",security:"from-emerald-500 to-emerald-700",uncategorized:"from-gray-500 to-gray-700"};function y(e){let{layers:t,selectedLayers:r,onToggleLayer:a}=e;return(0,s.jsxs)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-xl p-5 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(h,{className:"w-5 h-5 text-red-500"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Architecture Layers"})]}),(0,s.jsx)("div",{className:"space-y-2",children:t.map(e=>{let t=r.includes(e.name),n=g[e.name]||g.uncategorized;return(0,s.jsxs)("button",{onClick:()=>a(e.name),className:"w-full text-left p-3 rounded-lg transition-all duration-200 ".concat(t?"bg-gradient-to-r ".concat(n," shadow-lg scale-105"):"bg-gray-800/50 hover:bg-gray-700/50"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium ".concat(t?"text-white":"text-gray-300"),children:e.name}),(0,s.jsx)("span",{className:"text-sm px-2 py-1 rounded ".concat(t?"bg-white/20":"bg-gray-700"),children:e.count})]}),e.earliest&&e.latest&&(0,s.jsxs)("div",{className:"text-xs mt-1 ".concat(t?"text-white/80":"text-gray-500"),children:[e.earliest.substring(0,4)," - ",e.latest.substring(0,4)]})]},e.name)})}),r.length>0&&(0,s.jsxs)("button",{onClick:()=>r.forEach(a),className:"w-full mt-4 py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:["Clear all filters (",r.length,")"]})]})}let p=i("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),f=i("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),b=i("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);function j(e){var t,r;let{apiBase:n,selectedLayers:l}=e,[i,o]=(0,a.useState)(null),[d,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m()},[l]);let m=async()=>{x(!0);try{let e=await fetch("".concat(n,"/stats")),t=await e.json();o(t)}catch(e){console.error("Failed to fetch stats:",e)}finally{x(!1)}};if(d||!i)return(0,s.jsx)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-xl p-5 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})});let u=Object.entries(i.posts_per_year).sort((e,t)=>t[1]-e[1]).slice(0,5);return(0,s.jsxs)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-xl p-5 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(p,{className:"w-5 h-5 text-red-500"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Statistics"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f,{className:"w-4 h-4 text-blue-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Total Posts"})]}),(0,s.jsx)("span",{className:"text-2xl font-bold text-white",children:i.total_posts})]})}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)(b,{className:"w-4 h-4 text-green-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Timeline Span"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[null===(t=i.date_range.earliest)||void 0===t?void 0:t.substring(0,4)," -"," ",null===(r=i.date_range.latest)||void 0===r?void 0:r.substring(0,4)]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c,{className:"w-4 h-4 text-purple-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Multi-Layer"})]}),(0,s.jsx)("span",{className:"text-lg font-semibold text-white",children:i.multi_layer_posts})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Avg: ",i.avg_layers_per_post.toFixed(1)," layers/post"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Most Active Years"}),(0,s.jsx)("div",{className:"space-y-2",children:u.map(e=>{let[t,r]=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-300",children:t}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-red-600 h-2 rounded-full",style:{width:"".concat(r/u[0][1]*100,"%")}})}),(0,s.jsx)("span",{className:"text-gray-400 w-8 text-right",children:r})]})]},t)})})]})]})]})}let v=i("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N=i("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),w=i("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),k={data:"bg-blue-500/20 text-blue-400 border-blue-500/30",streaming:"bg-purple-500/20 text-purple-400 border-purple-500/30","video/encoding":"bg-pink-500/20 text-pink-400 border-pink-500/30",infrastructure:"bg-green-500/20 text-green-400 border-green-500/30",platform:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30","frontend/ui":"bg-cyan-500/20 text-cyan-400 border-cyan-500/30","api/backend":"bg-orange-500/20 text-orange-400 border-orange-500/30",observability:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30","ml/data-science":"bg-red-500/20 text-red-400 border-red-500/30",security:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",uncategorized:"bg-gray-500/20 text-gray-400 border-gray-500/30"};function L(e){let{post:t,onClose:r}=e;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"sticky top-0 bg-gray-900/95 backdrop-blur-sm border-b border-gray-700 p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 pr-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-3",children:t.title}),t.date&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[(0,s.jsx)(b,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,s.jsx)("button",{onClick:r,className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gray-800 hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,s.jsx)(v,{className:"w-5 h-5 text-gray-400"})})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)(N,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-300",children:"Architecture Layers"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.layers.map(e=>(0,s.jsx)("span",{className:"px-3 py-1.5 rounded-lg text-sm font-medium border ".concat(k[e]||k.uncategorized),children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Content Preview"}),(0,s.jsx)("p",{className:"text-gray-400 leading-relaxed",children:t.snippet})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-700",children:[(0,s.jsxs)("a",{href:"file://".concat(t.path),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg font-medium transition-all shadow-lg shadow-red-600/20",children:[(0,s.jsx)(w,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"View Full Post"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:["Local path: ",(0,s.jsx)("code",{className:"bg-gray-800 px-2 py-1 rounded",children:t.path})]})]})]})]})})}let T=r(257).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function C(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[x,m]=(0,a.useState)(null),[h,g]=(0,a.useState)(""),[p,f]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{N(),w()},[]),(0,a.useEffect)(()=>{h?k():w()},[l,h]);let N=async()=>{try{let e=await fetch("".concat(T,"/layers")),t=await e.json();n(t.layers)}catch(e){console.error("Failed to fetch layers:",e)}},w=async()=>{f(!0);try{let e=new URLSearchParams;l.forEach(t=>e.append("layers",t));let r=await fetch("".concat(T,"/timeline?").concat(e)),s=await r.json();t(s.entries)}catch(e){console.error("Failed to fetch timeline:",e)}finally{f(!1)}},k=async()=>{if(h.length<2){w();return}f(!0);try{let e=new URLSearchParams({q:h});l.forEach(t=>e.append("layers",t));let r=await fetch("".concat(T,"/search?").concat(e)),s=await r.json();t(s.results)}catch(e){console.error("Failed to search posts:",e)}finally{f(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[(0,s.jsx)("header",{className:"border-b border-gray-800 bg-black/50 backdrop-blur-lg sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-600 to-red-800 rounded-lg flex items-center justify-center",children:(0,s.jsx)(c,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 to-red-700 bg-clip-text text-transparent",children:"Netflix Architecture Timeline"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Explore ",e.length," technical posts across ",r.length," architecture layers"]})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsx)("button",{onClick:()=>v(!b),className:"p-2 rounded-lg transition-colors ".concat(b?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:(0,s.jsx)(o,{className:"w-5 h-5"})})})]}),(0,s.jsxs)("div",{className:"mt-4 relative",children:[(0,s.jsx)(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search posts by title or content...",value:h,onChange:e=>g(e.target.value),className:"w-full bg-gray-800/50 border border-gray-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"})]})]})}),(0,s.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsx)(y,{layers:r,selectedLayers:l,onToggleLayer:e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}}),b&&(0,s.jsx)(j,{apiBase:T,selectedLayers:l})]}),(0,s.jsx)("div",{className:"lg:col-span-3",children:p?(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,s.jsx)(u,{entries:e,onPostClick:e=>{m(e)}})})]})}),x&&(0,s.jsx)(L,{post:x,onClose:()=>m(null)})]})}},257:function(e,t,r){"use strict";var s,a;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,s,a=e.exports={};function n(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var c=[],o=!1,d=-1;function x(){o&&s&&(o=!1,s.length?c=s.concat(c):d=-1,c.length&&m())}function m(){if(!o){var e=i(x);o=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,o=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new u(e,t)),1!==c.length||o||i(m)},u.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function s(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}},l=!0;try{t[e](n,n.exports,s),l=!1}finally{l&&delete r[e]}return n.exports}s.ab="//";var a=s(229);e.exports=a}()},4086:function(){}},function(e){e.O(0,[560,38,971,117,744],function(){return e(e.s=7368)}),_N_E=e.O()}]);